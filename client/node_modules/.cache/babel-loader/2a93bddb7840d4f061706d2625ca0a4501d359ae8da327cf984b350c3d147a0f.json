{"ast":null,"code":"import{Buffer}from'buffer';Buffer.from('anything','base64');window.Buffer=window.Buffer||require(\"buffer\").Buffer;const GetToken=async()=>{const client_id=process.env.REACT_APP_SPOTIFY_CLIENT_KEY;const client_secret=process.env.REACT_APP_SPOTIFY_SECRET_KEY;try{const response=await fetch('https://accounts.spotify.com/api/token',{method:'POST',body:new URLSearchParams({'grant_type':'client_credentials'}),headers:{'Content-Type':'application/x-www-form-urlencoded','Authorization':'Basic '+Buffer.from(client_id+':'+client_secret).toString('base64')}});const accessToken=await response.json();return accessToken.access_token;}catch(error){console.log(error);}};async function GetSpotifyPlaylist(accessToken,year){var id=null;switch(year.toString()){case\"2024\":id=\"2fmob4Hn1skiTOUb9b4Gt3\";break;case\"2023\":id=\"48mdyY6bWtuVabFIVaRcnR\";break;case\"2022\":id=\"01rRNah88ALTM6ME20ewXo\";break;case\"2021\":id=\"38uF6PlAcB8iFqxQQwExo3\";break;case\"2020\":id=\"2lsLTQQXocz90f9XvJTOUm\";break;case\"2019\":default:id=\"5gMOpwqLmWLStMxPXVqpQ6\";break;}try{const response=await fetch(\"https://api.spotify.com/v1/playlists/\".concat(id),{method:'GET',headers:{Authorization:'Bearer '+accessToken}});return await response.json();}catch(error){console.error(\"Error fetching playlist:\",error);throw error;}}export default async function SpotifyData(year){const accessToken=await GetToken();const playlist=await GetSpotifyPlaylist(accessToken,year);return playlist;}","map":{"version":3,"names":["Buffer","from","window","require","GetToken","client_id","process","env","REACT_APP_SPOTIFY_CLIENT_KEY","client_secret","REACT_APP_SPOTIFY_SECRET_KEY","response","fetch","method","body","URLSearchParams","headers","toString","accessToken","json","access_token","error","console","log","GetSpotifyPlaylist","year","id","concat","Authorization","SpotifyData","playlist"],"sources":["D:/Personal/School/Projects/guess_who_react/client/src/services/Spotify.js"],"sourcesContent":["import { Buffer } from 'buffer';\r\nBuffer.from('anything', 'base64');\r\nwindow.Buffer = window.Buffer || require(\"buffer\").Buffer;\r\n\r\nconst GetToken = async () => {\r\n\tconst client_id = process.env.REACT_APP_SPOTIFY_CLIENT_KEY;\r\n\tconst client_secret = process.env.REACT_APP_SPOTIFY_SECRET_KEY;\r\n\r\n\ttry {\r\n\t\tconst response = await fetch('https://accounts.spotify.com/api/token', {\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: new URLSearchParams({\r\n\t\t\t\t'grant_type': 'client_credentials',\r\n\t\t\t}),\r\n\t\t\theaders:\r\n\t\t\t{\r\n\t\t\t\t'Content-Type': 'application/x-www-form-urlencoded',\r\n\t\t\t\t'Authorization': 'Basic ' + (Buffer.from(client_id + ':' + client_secret).toString('base64')),\r\n\t\t\t}\r\n\t\t});\r\n\t\tconst accessToken = await response.json();\r\n\t\treturn accessToken.access_token;\r\n\r\n\t} catch (error) {\r\n\t\tconsole.log(error);\r\n\t}\r\n}\r\n\r\nasync function GetSpotifyPlaylist(accessToken, year) {\r\n\r\n\tvar id = null;\r\n\tswitch (year.toString()) {\r\n\t  case \"2024\":\r\n\t\tid = \"2fmob4Hn1skiTOUb9b4Gt3\"\r\n\t\tbreak;\r\n\t  case \"2023\":\r\n\t\tid = \"48mdyY6bWtuVabFIVaRcnR\"\r\n\t\tbreak;\r\n\t  case \"2022\":\r\n\t\tid = \"01rRNah88ALTM6ME20ewXo\"\r\n\t\tbreak;\r\n\t  case \"2021\":\r\n\t\tid = \"38uF6PlAcB8iFqxQQwExo3\"\r\n\t\tbreak;\r\n\t  case \"2020\":\r\n\t\tid = \"2lsLTQQXocz90f9XvJTOUm\"\r\n\t\tbreak;\r\n\t  case \"2019\":\r\n\t\tdefault:\r\n\t\tid = \"5gMOpwqLmWLStMxPXVqpQ6\"\r\n\t\tbreak;\r\n\t}\r\n\r\n\ttry {\r\n\t\tconst response = await fetch(`https://api.spotify.com/v1/playlists/${id}`, {\r\n\t\t\tmethod: 'GET',\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: 'Bearer ' + accessToken\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn await response.json()\r\n\r\n\t} catch (error) {\r\n\t\tconsole.error(\"Error fetching playlist:\", error);\r\n\t\tthrow error;\r\n\t}\r\n}\r\n\r\nexport default async function SpotifyData(year) {\r\n\tconst accessToken = await GetToken();\r\n\tconst playlist = await GetSpotifyPlaylist(accessToken, year);\r\n\treturn playlist;\r\n}\r\n"],"mappings":"AAAA,OAASA,MAAM,KAAQ,QAAQ,CAC/BA,MAAM,CAACC,IAAI,CAAC,UAAU,CAAE,QAAQ,CAAC,CACjCC,MAAM,CAACF,MAAM,CAAGE,MAAM,CAACF,MAAM,EAAIG,OAAO,CAAC,QAAQ,CAAC,CAACH,MAAM,CAEzD,KAAM,CAAAI,QAAQ,CAAG,KAAAA,CAAA,GAAY,CAC5B,KAAM,CAAAC,SAAS,CAAGC,OAAO,CAACC,GAAG,CAACC,4BAA4B,CAC1D,KAAM,CAAAC,aAAa,CAAGH,OAAO,CAACC,GAAG,CAACG,4BAA4B,CAE9D,GAAI,CACH,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,wCAAwC,CAAE,CACtEC,MAAM,CAAE,MAAM,CACdC,IAAI,CAAE,GAAI,CAAAC,eAAe,CAAC,CACzB,YAAY,CAAE,oBACf,CAAC,CAAC,CACFC,OAAO,CACP,CACC,cAAc,CAAE,mCAAmC,CACnD,eAAe,CAAE,QAAQ,CAAIhB,MAAM,CAACC,IAAI,CAACI,SAAS,CAAG,GAAG,CAAGI,aAAa,CAAC,CAACQ,QAAQ,CAAC,QAAQ,CAC5F,CACD,CAAC,CAAC,CACF,KAAM,CAAAC,WAAW,CAAG,KAAM,CAAAP,QAAQ,CAACQ,IAAI,CAAC,CAAC,CACzC,MAAO,CAAAD,WAAW,CAACE,YAAY,CAEhC,CAAE,MAAOC,KAAK,CAAE,CACfC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC,CACnB,CACD,CAAC,CAED,cAAe,CAAAG,kBAAkBA,CAACN,WAAW,CAAEO,IAAI,CAAE,CAEpD,GAAI,CAAAC,EAAE,CAAG,IAAI,CACb,OAAQD,IAAI,CAACR,QAAQ,CAAC,CAAC,EACrB,IAAK,MAAM,CACZS,EAAE,CAAG,wBAAwB,CAC7B,MACC,IAAK,MAAM,CACZA,EAAE,CAAG,wBAAwB,CAC7B,MACC,IAAK,MAAM,CACZA,EAAE,CAAG,wBAAwB,CAC7B,MACC,IAAK,MAAM,CACZA,EAAE,CAAG,wBAAwB,CAC7B,MACC,IAAK,MAAM,CACZA,EAAE,CAAG,wBAAwB,CAC7B,MACC,IAAK,MAAM,CACZ,QACAA,EAAE,CAAG,wBAAwB,CAC7B,MACD,CAEA,GAAI,CACH,KAAM,CAAAf,QAAQ,CAAG,KAAM,CAAAC,KAAK,yCAAAe,MAAA,CAAyCD,EAAE,EAAI,CAC1Eb,MAAM,CAAE,KAAK,CACbG,OAAO,CAAE,CACRY,aAAa,CAAE,SAAS,CAAGV,WAC5B,CACD,CAAC,CAAC,CACF,MAAO,MAAM,CAAAP,QAAQ,CAACQ,IAAI,CAAC,CAAC,CAE7B,CAAE,MAAOE,KAAK,CAAE,CACfC,OAAO,CAACD,KAAK,CAAC,0BAA0B,CAAEA,KAAK,CAAC,CAChD,KAAM,CAAAA,KAAK,CACZ,CACD,CAEA,cAAe,eAAe,CAAAQ,WAAWA,CAACJ,IAAI,CAAE,CAC/C,KAAM,CAAAP,WAAW,CAAG,KAAM,CAAAd,QAAQ,CAAC,CAAC,CACpC,KAAM,CAAA0B,QAAQ,CAAG,KAAM,CAAAN,kBAAkB,CAACN,WAAW,CAAEO,IAAI,CAAC,CAC5D,MAAO,CAAAK,QAAQ,CAChB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}