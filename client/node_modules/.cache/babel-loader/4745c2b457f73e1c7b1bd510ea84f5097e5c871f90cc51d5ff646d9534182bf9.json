{"ast":null,"code":"import { Buffer } from 'buffer';\nBuffer.from('anything', 'base64');\nwindow.Buffer = window.Buffer || require(\"buffer\").Buffer;\nconst GetToken = async () => {\n  const client_id = process.env.REACT_APP_SPOTIFY_CLIENT_KEY;\n  const client_secret = process.env.REACT_APP_SPOTIFY_SECRET_KEY;\n  try {\n    const response = await fetch('https://accounts.spotify.com/api/token', {\n      method: 'POST',\n      body: new URLSearchParams({\n        'grant_type': 'client_credentials'\n      }),\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded',\n        'Authorization': 'Basic ' + Buffer.from(client_id + ':' + client_secret).toString('base64')\n      }\n    });\n    const accessToken = await response.json();\n    return accessToken.access_token;\n  } catch (error) {\n    console.log(error);\n  }\n};\n_c = GetToken;\nasync function GetSpotifyPlaylist(accessToken, year) {\n  var id = null;\n  switch (year.toString()) {\n    case \"2024\":\n      id = \"2fmob4Hn1skiTOUb9b4Gt3\";\n      break;\n    case \"2023\":\n      id = \"48mdyY6bWtuVabFIVaRcnR\";\n      break;\n    case \"2022\":\n      id = \"01rRNah88ALTM6ME20ewXo\";\n      break;\n    case \"2021\":\n      id = \"38uF6PlAcB8iFqxQQwExo3\";\n      break;\n    case \"2020\":\n      id = \"2lsLTQQXocz90f9XvJTOUm\";\n      break;\n    case \"2019\":\n    default:\n      id = \"5gMOpwqLmWLStMxPXVqpQ6\";\n      break;\n  }\n  try {\n    const response = await fetch(`https://api.spotify.com/v1/playlists/${id}`, {\n      method: 'GET',\n      headers: {\n        Authorization: 'Bearer ' + accessToken\n      }\n    });\n    return await response.json();\n  } catch (error) {\n    console.error(\"Error fetching playlist:\", error);\n    throw error;\n  }\n}\n_c2 = GetSpotifyPlaylist;\nexport default async function SpotifyData(year) {\n  const accessToken = await GetToken();\n  const playlist = await GetSpotifyPlaylist(accessToken, year);\n  return playlist;\n}\n_c3 = SpotifyData;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"GetToken\");\n$RefreshReg$(_c2, \"GetSpotifyPlaylist\");\n$RefreshReg$(_c3, \"SpotifyData\");","map":{"version":3,"names":["Buffer","from","window","require","GetToken","client_id","process","env","REACT_APP_SPOTIFY_CLIENT_KEY","client_secret","REACT_APP_SPOTIFY_SECRET_KEY","response","fetch","method","body","URLSearchParams","headers","toString","accessToken","json","access_token","error","console","log","_c","GetSpotifyPlaylist","year","id","Authorization","_c2","SpotifyData","playlist","_c3","$RefreshReg$"],"sources":["D:/Personal/School/Projects/guess_who_react/client/src/services/Spotify.js"],"sourcesContent":["import { Buffer } from 'buffer';\r\nBuffer.from('anything', 'base64');\r\nwindow.Buffer = window.Buffer || require(\"buffer\").Buffer;\r\n\r\nconst GetToken = async () => {\r\n\tconst client_id = process.env.REACT_APP_SPOTIFY_CLIENT_KEY;\r\n\tconst client_secret = process.env.REACT_APP_SPOTIFY_SECRET_KEY;\r\n\r\n\ttry {\r\n\t\tconst response = await fetch('https://accounts.spotify.com/api/token', {\r\n\t\t\tmethod: 'POST',\r\n\t\t\tbody: new URLSearchParams({\r\n\t\t\t\t'grant_type': 'client_credentials',\r\n\t\t\t}),\r\n\t\t\theaders:\r\n\t\t\t{\r\n\t\t\t\t'Content-Type': 'application/x-www-form-urlencoded',\r\n\t\t\t\t'Authorization': 'Basic ' + (Buffer.from(client_id + ':' + client_secret).toString('base64')),\r\n\t\t\t}\r\n\t\t});\r\n\t\tconst accessToken = await response.json();\r\n\t\treturn accessToken.access_token;\r\n\r\n\t} catch (error) {\r\n\t\tconsole.log(error);\r\n\t}\r\n}\r\n\r\nasync function GetSpotifyPlaylist(accessToken, year) {\r\n\r\n\tvar id = null;\r\n\tswitch (year.toString()) {\r\n\t  case \"2024\":\r\n\t\tid = \"2fmob4Hn1skiTOUb9b4Gt3\"\r\n\t\tbreak;\r\n\t  case \"2023\":\r\n\t\tid = \"48mdyY6bWtuVabFIVaRcnR\"\r\n\t\tbreak;\r\n\t  case \"2022\":\r\n\t\tid = \"01rRNah88ALTM6ME20ewXo\"\r\n\t\tbreak;\r\n\t  case \"2021\":\r\n\t\tid = \"38uF6PlAcB8iFqxQQwExo3\"\r\n\t\tbreak;\r\n\t  case \"2020\":\r\n\t\tid = \"2lsLTQQXocz90f9XvJTOUm\"\r\n\t\tbreak;\r\n\t  case \"2019\":\r\n\t\tdefault:\r\n\t\tid = \"5gMOpwqLmWLStMxPXVqpQ6\"\r\n\t\tbreak;\r\n\t}\r\n\r\n\ttry {\r\n\t\tconst response = await fetch(`https://api.spotify.com/v1/playlists/${id}`, {\r\n\t\t\tmethod: 'GET',\r\n\t\t\theaders: {\r\n\t\t\t\tAuthorization: 'Bearer ' + accessToken\r\n\t\t\t}\r\n\t\t});\r\n\t\treturn await response.json()\r\n\r\n\t} catch (error) {\r\n\t\tconsole.error(\"Error fetching playlist:\", error);\r\n\t\tthrow error;\r\n\t}\r\n}\r\n\r\nexport default async function SpotifyData(year) {\r\n\tconst accessToken = await GetToken();\r\n\tconst playlist = await GetSpotifyPlaylist(accessToken, year);\r\n\treturn playlist;\r\n}\r\n"],"mappings":"AAAA,SAASA,MAAM,QAAQ,QAAQ;AAC/BA,MAAM,CAACC,IAAI,CAAC,UAAU,EAAE,QAAQ,CAAC;AACjCC,MAAM,CAACF,MAAM,GAAGE,MAAM,CAACF,MAAM,IAAIG,OAAO,CAAC,QAAQ,CAAC,CAACH,MAAM;AAEzD,MAAMI,QAAQ,GAAG,MAAAA,CAAA,KAAY;EAC5B,MAAMC,SAAS,GAAGC,OAAO,CAACC,GAAG,CAACC,4BAA4B;EAC1D,MAAMC,aAAa,GAAGH,OAAO,CAACC,GAAG,CAACG,4BAA4B;EAE9D,IAAI;IACH,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,wCAAwC,EAAE;MACtEC,MAAM,EAAE,MAAM;MACdC,IAAI,EAAE,IAAIC,eAAe,CAAC;QACzB,YAAY,EAAE;MACf,CAAC,CAAC;MACFC,OAAO,EACP;QACC,cAAc,EAAE,mCAAmC;QACnD,eAAe,EAAE,QAAQ,GAAIhB,MAAM,CAACC,IAAI,CAACI,SAAS,GAAG,GAAG,GAAGI,aAAa,CAAC,CAACQ,QAAQ,CAAC,QAAQ;MAC5F;IACD,CAAC,CAAC;IACF,MAAMC,WAAW,GAAG,MAAMP,QAAQ,CAACQ,IAAI,CAAC,CAAC;IACzC,OAAOD,WAAW,CAACE,YAAY;EAEhC,CAAC,CAAC,OAAOC,KAAK,EAAE;IACfC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;EACnB;AACD,CAAC;AAAAG,EAAA,GAtBKpB,QAAQ;AAwBd,eAAeqB,kBAAkBA,CAACP,WAAW,EAAEQ,IAAI,EAAE;EAEpD,IAAIC,EAAE,GAAG,IAAI;EACb,QAAQD,IAAI,CAACT,QAAQ,CAAC,CAAC;IACrB,KAAK,MAAM;MACZU,EAAE,GAAG,wBAAwB;MAC7B;IACC,KAAK,MAAM;MACZA,EAAE,GAAG,wBAAwB;MAC7B;IACC,KAAK,MAAM;MACZA,EAAE,GAAG,wBAAwB;MAC7B;IACC,KAAK,MAAM;MACZA,EAAE,GAAG,wBAAwB;MAC7B;IACC,KAAK,MAAM;MACZA,EAAE,GAAG,wBAAwB;MAC7B;IACC,KAAK,MAAM;IACZ;MACAA,EAAE,GAAG,wBAAwB;MAC7B;EACD;EAEA,IAAI;IACH,MAAMhB,QAAQ,GAAG,MAAMC,KAAK,CAAE,wCAAuCe,EAAG,EAAC,EAAE;MAC1Ed,MAAM,EAAE,KAAK;MACbG,OAAO,EAAE;QACRY,aAAa,EAAE,SAAS,GAAGV;MAC5B;IACD,CAAC,CAAC;IACF,OAAO,MAAMP,QAAQ,CAACQ,IAAI,CAAC,CAAC;EAE7B,CAAC,CAAC,OAAOE,KAAK,EAAE;IACfC,OAAO,CAACD,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;IAChD,MAAMA,KAAK;EACZ;AACD;AAACQ,GAAA,GAtCcJ,kBAAkB;AAwCjC,eAAe,eAAeK,WAAWA,CAACJ,IAAI,EAAE;EAC/C,MAAMR,WAAW,GAAG,MAAMd,QAAQ,CAAC,CAAC;EACpC,MAAM2B,QAAQ,GAAG,MAAMN,kBAAkB,CAACP,WAAW,EAAEQ,IAAI,CAAC;EAC5D,OAAOK,QAAQ;AAChB;AAACC,GAAA,GAJ6BF,WAAW;AAAA,IAAAN,EAAA,EAAAK,GAAA,EAAAG,GAAA;AAAAC,YAAA,CAAAT,EAAA;AAAAS,YAAA,CAAAJ,GAAA;AAAAI,YAAA,CAAAD,GAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}